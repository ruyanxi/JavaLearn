# DQL：查询表中的记录
----
## 语法：

```sql
select 
    字段列表 --注释
from 
    表名类表 --注释
where 
    条件列表 --注释
group by 
    分组字段 --注释
having 
    分组之后的条件 --注释
order by 
    排序 --注释
limit 
    分页限定 --注释
;
```
----
## 基础查询
1. 多个字段的查询  
   select 字段名1,字段名2,字段名3, ... 字段名n from 表名;  
   &emsp;&emsp;推荐使用优化代码格式：
   ```sql
   select 
        字段名1, --注释
        字段名2, --注释
        字段名3, --注释
         ... 
        字段名n  --注释
    from 
        表名;   --注释
   ```  
>可用通配符`*`选择所有字段
2. 去除重复的结果集  
   在`select`后添加关键字`distinct`
    示例：
    ```sql
    select distinct
        字段名1, --注释
        字段名2, --注释
        字段名3, --注释
         ... 
        字段名n  --注释
    from 
        表名;   --注释
    ```
>注意数据可能存在空字符情况，这时数据不相同便不会被去重  
 <font color=red>只有在结果集的记录中存在完全相同时才会被去重</font>
3. 计算列  
   一般可以使用四则运算计算一些列的值（一般只会进行数值型的计算）
   可以通过字段名加字段名的形式获取数值字段的和、差、积、商  
   示例：  

   ```sql
    select 
        字段名1, --注释
        字段名2, --注释
        字段名1 + 字段名2, --注释
        字段名1 - 字段名2, --注释
        字段名1 * 字段名2, --注释
        字段名1 / 字段名2, --注释
         ... 
        字段名n  --注释
    from 
        表名;   --注释
>注意：  
任何值与`null`直接运算都会得到`null`，利用`sql`的函数`ifnull(expr1,expr2)`进行是否为`null`判断，表达式expr1是指待判断的字段名，表达式expr2是指如果确认该字段为`null`时的替代值。
<br/>示例：

```sql
    select 
        name, --姓名
        math, --数学成绩
        english, --英语成绩
        math + ifnull(english,0) --数学成绩 加 英语成绩
    from
        student;
```

1. 起别名  
   为了查询得到的结果集美观和利于查看，需要重命名结果集的表头，也称起别名。
   实现方法为再原字段或结果后使用关键字`as`，示例：
   ```sql
        select 
        name, --姓名
        math, --数学成绩
        english, --英语成绩
        math + ifnull(english,0) as '总分' --数学成绩 加 英语成绩
    from
        student;
   ```
   同时为了省略`as`，可以使用一个或多个空格去代替`as`
   示例：
   ```sql
        select 
        name '姓名', --姓名
        math '数学', --数学成绩
        english '英语', --英语成绩
        math + ifnull(english,0) '总分' --数学成绩 加 英语成绩
    from
        student;
   ```
----
## 条件查询  
<b>where子句后跟条件</b>

>运算符：<br/>
  大于：`>`<br/>
  小于：`<`<br/>
  不等于：`!=`、`<>`<br/>
 大于等于：`>=` <br/>
  小于等于：`<=`<br/>
 与：`and`、 `&&` <br/>
 或：`or` 、`||`<br/>
 模糊查询：`like`<br/>
区间范围查询：`between 值1 and 值2` <br/> 
集合范围查询：`in(集合)` <br/>
 为空：`is null`<br/>
非空：`is not null` <br/>

1. 排序查询：`order by 子句`<br/>
   `order by 排序字段1 排序方式,排序字段2 排序方式,排序字段3 排序方式...`  
   多字段排序时按书写顺序进行优先级排序，即先按语句的第一个排序字段排序，再执行第二个...  
    排序方式  
   1. 升序-ASC，不写排序方式时的默认选择
   2. 降序-DESC
2. 聚合查询:将一列数据作为一个整体，进行纵向的计算。  
   将函数写在`select`后，常用函数为：
   1. count(字段)：统计个数
   2. max(字段)：计算最大值
   3. min(字段)：计算最小值
   4. sum(字段)：计算和
   5. avg(字段)：计算平均值

>注意：聚合函数的计算是排除null值的，解决方案：      
      1. 选择不为空的字段计算  
      2. ifnull函数
1. 分组查询：`group by 分组字段`<br/>&emsp;&emsp;where统计具有相同特征的某一类数据，将这类数据作为一个整体来查看整体信息
  
>注意：   
      1. 分组之后查询的字段：分组字段、聚合函数  
      2. where和having的区别？
<br/>&emsp;&emsp;where在分组之前进行限定，如果不满足条件，则不参与分组。<br/>&emsp;&emsp;having在分组之后进行限定，如果不满足结果，则不会被查询出来<br/>&emsp;&emsp;where后不可以跟聚合函数，having可以进行聚合函数的判断  
      3. 一般使用别名进行having的判断
2. 分页查询：`limit 开始的索引（从0开始）,每页查询的条数;`<br/>&emsp;&emsp;where公式：开始的索引=（当前的页码 - 1）× 每页显示的条数
>limit分页操作是mysql的一个“方言”